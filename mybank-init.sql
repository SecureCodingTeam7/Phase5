-- Adminer 4.1.0 MySQL dump

SET NAMES utf8;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

DROP DATABASE IF EXISTS `mybank`;
CREATE DATABASE `mybank` /*!40100 DEFAULT CHARACTER SET latin1 */;
USE `mybank`;

DROP TABLE IF EXISTS `accounts`;
CREATE TABLE `accounts` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `account_number` varchar(10) NOT NULL,
  `next_tan` int(11) NOT NULL,
  `balance` double NOT NULL,
  `available_funds` double NOT NULL,
  `pin` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `accounts_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `accounts` (`id`, `user_id`, `account_number`, `next_tan`, `balance`, `available_funds`, `pin`) VALUES
(23,	34,	'6664117044',	14,	50000,	50000,	0),
(24,	35,	'7911353165',	86,	70000,	70000,	0);

DROP TABLE IF EXISTS `transactions`;
CREATE TABLE `transactions` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `source` varchar(10) NOT NULL,
  `source_name` varchar(255) NOT NULL,
  `destination` varchar(10) NOT NULL,
  `destination_name` varchar(255) NOT NULL,
  `amount` int(11) NOT NULL,
  `description` varchar(255) NOT NULL,
  `code` varchar(15) NOT NULL,
  `is_approved` bit(1) NOT NULL DEFAULT b'1',
  `date_time` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `transactions` (`id`, `source`, `source_name`, `destination`, `destination_name`, `amount`, `description`, `code`, `is_approved`, `date_time`) VALUES
(5,	'6664117044',	'',	'7911353165',	'',	1000,	'blah',	'733842906563198',	CONV('1', 2, 10) + 0,	'2014-12-01 12:09:33'),
(6,	'6664117044',	'',	'7911353165',	'',	20000,	'blah',	'630297570688659',	CONV('1', 2, 10) + 0,	'2014-12-01 12:10:18'),
(7,	'6664117044',	'',	'7911353165',	'',	15000,	'too much',	'470031697677064',	CONV('1', 2, 10) + 0,	'2014-12-01 12:14:02'),
(8,	'6664117044',	'',	'7911353165',	'',	14000,	'too much',	'371160732573185',	CONV('1', 2, 10) + 0,	'2014-12-01 12:14:49'),
(9,	'7911353165',	'',	'6664117044',	'',	50000,	'test',	'982558562105430',	CONV('1', 2, 10) + 0,	'2014-12-01 12:28:46');

DROP TABLE IF EXISTS `trans_codes`;
CREATE TABLE `trans_codes` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `account_id` int(11) NOT NULL,
  `code_number` int(11) NOT NULL,
  `code` varchar(15) NOT NULL,
  `is_used` bit(1) NOT NULL DEFAULT b'0',
  PRIMARY KEY (`id`),
  KEY `account_id` (`account_id`),
  CONSTRAINT `trans_codes_ibfk_1` FOREIGN KEY (`account_id`) REFERENCES `accounts` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `trans_codes` (`id`, `account_id`, `code_number`, `code`, `is_used`) VALUES
(2101,	23,	0,	'455233430419560',	CONV('0', 2, 10) + 0),
(2102,	23,	1,	'021144108695521',	CONV('0', 2, 10) + 0),
(2103,	23,	2,	'842729514030385',	CONV('0', 2, 10) + 0),
(2104,	23,	3,	'218361433157382',	CONV('0', 2, 10) + 0),
(2105,	23,	4,	'406568622002069',	CONV('0', 2, 10) + 0),
(2106,	23,	5,	'675520751027586',	CONV('0', 2, 10) + 0),
(2107,	23,	6,	'092634644516542',	CONV('0', 2, 10) + 0),
(2108,	23,	7,	'315410118157404',	CONV('0', 2, 10) + 0),
(2109,	23,	8,	'856013453262020',	CONV('0', 2, 10) + 0),
(2110,	23,	9,	'468472547214182',	CONV('0', 2, 10) + 0),
(2111,	23,	10,	'060532993018306',	CONV('0', 2, 10) + 0),
(2112,	23,	11,	'184113070217056',	CONV('0', 2, 10) + 0),
(2113,	23,	12,	'977339487740521',	CONV('0', 2, 10) + 0),
(2114,	23,	13,	'716567759489052',	CONV('0', 2, 10) + 0),
(2115,	23,	14,	'642873758881623',	CONV('0', 2, 10) + 0),
(2116,	23,	15,	'786682405289672',	CONV('0', 2, 10) + 0),
(2117,	23,	16,	'857749967176141',	CONV('0', 2, 10) + 0),
(2118,	23,	17,	'980947560113757',	CONV('0', 2, 10) + 0),
(2119,	23,	18,	'371160732573185',	CONV('1', 2, 10) + 0),
(2120,	23,	19,	'733842906563198',	CONV('1', 2, 10) + 0),
(2121,	23,	20,	'930436101658078',	CONV('0', 2, 10) + 0),
(2122,	23,	21,	'216074980073057',	CONV('0', 2, 10) + 0),
(2123,	23,	22,	'833272028440304',	CONV('0', 2, 10) + 0),
(2124,	23,	23,	'386488968057813',	CONV('0', 2, 10) + 0),
(2125,	23,	24,	'017124483921257',	CONV('0', 2, 10) + 0),
(2126,	23,	25,	'362453094676034',	CONV('0', 2, 10) + 0),
(2127,	23,	26,	'371578033792394',	CONV('0', 2, 10) + 0),
(2128,	23,	27,	'485129923841044',	CONV('0', 2, 10) + 0),
(2129,	23,	28,	'590174499020785',	CONV('0', 2, 10) + 0),
(2130,	23,	29,	'519243753801390',	CONV('0', 2, 10) + 0),
(2131,	23,	30,	'303001772170365',	CONV('0', 2, 10) + 0),
(2132,	23,	31,	'854763716578817',	CONV('0', 2, 10) + 0),
(2133,	23,	32,	'681007197929120',	CONV('0', 2, 10) + 0),
(2134,	23,	33,	'959434101578509',	CONV('0', 2, 10) + 0),
(2135,	23,	34,	'965249935924917',	CONV('0', 2, 10) + 0),
(2136,	23,	35,	'664858676157090',	CONV('0', 2, 10) + 0),
(2137,	23,	36,	'213854948701107',	CONV('0', 2, 10) + 0),
(2138,	23,	37,	'470031697677064',	CONV('1', 2, 10) + 0),
(2139,	23,	38,	'298712735634725',	CONV('0', 2, 10) + 0),
(2140,	23,	39,	'160659536511879',	CONV('0', 2, 10) + 0),
(2141,	23,	40,	'286811090854825',	CONV('0', 2, 10) + 0),
(2142,	23,	41,	'562196089769233',	CONV('0', 2, 10) + 0),
(2143,	23,	42,	'559102980121786',	CONV('0', 2, 10) + 0),
(2144,	23,	43,	'907898806132819',	CONV('0', 2, 10) + 0),
(2145,	23,	44,	'636588421074144',	CONV('0', 2, 10) + 0),
(2146,	23,	45,	'146687887882307',	CONV('0', 2, 10) + 0),
(2147,	23,	46,	'762046821873640',	CONV('0', 2, 10) + 0),
(2148,	23,	47,	'901923073139312',	CONV('0', 2, 10) + 0),
(2149,	23,	48,	'579501144715839',	CONV('0', 2, 10) + 0),
(2150,	23,	49,	'045736267008299',	CONV('0', 2, 10) + 0),
(2151,	23,	50,	'468179572015474',	CONV('0', 2, 10) + 0),
(2152,	23,	51,	'922324780030307',	CONV('0', 2, 10) + 0),
(2153,	23,	52,	'205503133944911',	CONV('0', 2, 10) + 0),
(2154,	23,	53,	'533821816389163',	CONV('0', 2, 10) + 0),
(2155,	23,	54,	'471863801951061',	CONV('0', 2, 10) + 0),
(2156,	23,	55,	'637401709498663',	CONV('0', 2, 10) + 0),
(2157,	23,	56,	'364796613044867',	CONV('0', 2, 10) + 0),
(2158,	23,	57,	'377884003028073',	CONV('0', 2, 10) + 0),
(2159,	23,	58,	'601934510899507',	CONV('0', 2, 10) + 0),
(2160,	23,	59,	'475795341419715',	CONV('0', 2, 10) + 0),
(2161,	23,	60,	'844690003439401',	CONV('0', 2, 10) + 0),
(2162,	23,	61,	'025879082813603',	CONV('0', 2, 10) + 0),
(2163,	23,	62,	'266623941948563',	CONV('0', 2, 10) + 0),
(2164,	23,	63,	'045828514800229',	CONV('0', 2, 10) + 0),
(2165,	23,	64,	'146475878785936',	CONV('0', 2, 10) + 0),
(2166,	23,	65,	'557166080364351',	CONV('0', 2, 10) + 0),
(2167,	23,	66,	'530449323282850',	CONV('0', 2, 10) + 0),
(2168,	23,	67,	'376704560909978',	CONV('0', 2, 10) + 0),
(2169,	23,	68,	'034998175441607',	CONV('0', 2, 10) + 0),
(2170,	23,	69,	'924763633295278',	CONV('0', 2, 10) + 0),
(2171,	23,	70,	'496430818734784',	CONV('0', 2, 10) + 0),
(2172,	23,	71,	'240267290204607',	CONV('0', 2, 10) + 0),
(2173,	23,	72,	'715335614983286',	CONV('0', 2, 10) + 0),
(2174,	23,	73,	'226749511686922',	CONV('0', 2, 10) + 0),
(2175,	23,	74,	'337457919838660',	CONV('0', 2, 10) + 0),
(2176,	23,	75,	'587874534725747',	CONV('0', 2, 10) + 0),
(2177,	23,	76,	'659828105385155',	CONV('0', 2, 10) + 0),
(2178,	23,	77,	'135242975750997',	CONV('0', 2, 10) + 0),
(2179,	23,	78,	'259924447588548',	CONV('0', 2, 10) + 0),
(2180,	23,	79,	'940888830774538',	CONV('0', 2, 10) + 0),
(2181,	23,	80,	'673813337954029',	CONV('0', 2, 10) + 0),
(2182,	23,	81,	'597341162317724',	CONV('0', 2, 10) + 0),
(2183,	23,	82,	'241767912941911',	CONV('0', 2, 10) + 0),
(2184,	23,	83,	'038696997348962',	CONV('0', 2, 10) + 0),
(2185,	23,	84,	'382587513447485',	CONV('0', 2, 10) + 0),
(2186,	23,	85,	'729467017632820',	CONV('0', 2, 10) + 0),
(2187,	23,	86,	'620245041673722',	CONV('0', 2, 10) + 0),
(2188,	23,	87,	'074406916184770',	CONV('0', 2, 10) + 0),
(2189,	23,	88,	'247888738734477',	CONV('0', 2, 10) + 0),
(2190,	23,	89,	'573173545848724',	CONV('0', 2, 10) + 0),
(2191,	23,	90,	'681061432707899',	CONV('0', 2, 10) + 0),
(2192,	23,	91,	'694947397987925',	CONV('0', 2, 10) + 0),
(2193,	23,	92,	'021406384023689',	CONV('0', 2, 10) + 0),
(2194,	23,	93,	'155245966479625',	CONV('0', 2, 10) + 0),
(2195,	23,	94,	'224250483097054',	CONV('0', 2, 10) + 0),
(2196,	23,	95,	'184919589102975',	CONV('0', 2, 10) + 0),
(2197,	23,	96,	'630297570688659',	CONV('1', 2, 10) + 0),
(2198,	23,	97,	'229283436917239',	CONV('0', 2, 10) + 0),
(2199,	23,	98,	'130580558951188',	CONV('0', 2, 10) + 0),
(2200,	23,	99,	'817535811764200',	CONV('0', 2, 10) + 0),
(2201,	24,	0,	'937838098964265',	CONV('0', 2, 10) + 0),
(2202,	24,	1,	'000700843201712',	CONV('0', 2, 10) + 0),
(2203,	24,	2,	'736352199603380',	CONV('0', 2, 10) + 0),
(2204,	24,	3,	'631071708803756',	CONV('0', 2, 10) + 0),
(2205,	24,	4,	'155779652415308',	CONV('0', 2, 10) + 0),
(2206,	24,	5,	'027890917155816',	CONV('0', 2, 10) + 0),
(2207,	24,	6,	'476268606751784',	CONV('0', 2, 10) + 0),
(2208,	24,	7,	'020443102727650',	CONV('0', 2, 10) + 0),
(2209,	24,	8,	'732015594274536',	CONV('0', 2, 10) + 0),
(2210,	24,	9,	'007272627414241',	CONV('0', 2, 10) + 0),
(2211,	24,	10,	'724569587213647',	CONV('0', 2, 10) + 0),
(2212,	24,	11,	'045870913144130',	CONV('0', 2, 10) + 0),
(2213,	24,	12,	'072911822573439',	CONV('0', 2, 10) + 0),
(2214,	24,	13,	'050704709695959',	CONV('0', 2, 10) + 0),
(2215,	24,	14,	'855606085697851',	CONV('0', 2, 10) + 0),
(2216,	24,	15,	'836765357691092',	CONV('0', 2, 10) + 0),
(2217,	24,	16,	'468430201991542',	CONV('0', 2, 10) + 0),
(2218,	24,	17,	'562169991402579',	CONV('0', 2, 10) + 0),
(2219,	24,	18,	'890770244668385',	CONV('0', 2, 10) + 0),
(2220,	24,	19,	'916168069778034',	CONV('0', 2, 10) + 0),
(2221,	24,	20,	'727396461773419',	CONV('0', 2, 10) + 0),
(2222,	24,	21,	'127222858170664',	CONV('0', 2, 10) + 0),
(2223,	24,	22,	'361163957819930',	CONV('0', 2, 10) + 0),
(2224,	24,	23,	'293064892683733',	CONV('0', 2, 10) + 0),
(2225,	24,	24,	'235780436047452',	CONV('0', 2, 10) + 0),
(2226,	24,	25,	'023137527773287',	CONV('0', 2, 10) + 0),
(2227,	24,	26,	'183066219623016',	CONV('0', 2, 10) + 0),
(2228,	24,	27,	'818833075783091',	CONV('0', 2, 10) + 0),
(2229,	24,	28,	'975221776379388',	CONV('0', 2, 10) + 0),
(2230,	24,	29,	'819022269228799',	CONV('0', 2, 10) + 0),
(2231,	24,	30,	'086299746271241',	CONV('0', 2, 10) + 0),
(2232,	24,	31,	'090775886259248',	CONV('0', 2, 10) + 0),
(2233,	24,	32,	'214064798164364',	CONV('0', 2, 10) + 0),
(2234,	24,	33,	'471381741000246',	CONV('0', 2, 10) + 0),
(2235,	24,	34,	'300491635470909',	CONV('0', 2, 10) + 0),
(2236,	24,	35,	'366080187433886',	CONV('0', 2, 10) + 0),
(2237,	24,	36,	'989244769220537',	CONV('0', 2, 10) + 0),
(2238,	24,	37,	'477931783694173',	CONV('0', 2, 10) + 0),
(2239,	24,	38,	'455480769404736',	CONV('0', 2, 10) + 0),
(2240,	24,	39,	'111563834398510',	CONV('0', 2, 10) + 0),
(2241,	24,	40,	'162530970206953',	CONV('0', 2, 10) + 0),
(2242,	24,	41,	'174311872713310',	CONV('0', 2, 10) + 0),
(2243,	24,	42,	'111517004665173',	CONV('0', 2, 10) + 0),
(2244,	24,	43,	'350116599638308',	CONV('0', 2, 10) + 0),
(2245,	24,	44,	'669452997076208',	CONV('0', 2, 10) + 0),
(2246,	24,	45,	'424628085019364',	CONV('0', 2, 10) + 0),
(2247,	24,	46,	'644432452771892',	CONV('0', 2, 10) + 0),
(2248,	24,	47,	'543242983948753',	CONV('0', 2, 10) + 0),
(2249,	24,	48,	'790409222876660',	CONV('0', 2, 10) + 0),
(2250,	24,	49,	'760824468210020',	CONV('0', 2, 10) + 0),
(2251,	24,	50,	'963123341590431',	CONV('0', 2, 10) + 0),
(2252,	24,	51,	'403793594979064',	CONV('0', 2, 10) + 0),
(2253,	24,	52,	'121118027841010',	CONV('0', 2, 10) + 0),
(2254,	24,	53,	'813405126042832',	CONV('0', 2, 10) + 0),
(2255,	24,	54,	'954451379751098',	CONV('0', 2, 10) + 0),
(2256,	24,	55,	'513040760823708',	CONV('0', 2, 10) + 0),
(2257,	24,	56,	'711273100975517',	CONV('0', 2, 10) + 0),
(2258,	24,	57,	'547989934620577',	CONV('0', 2, 10) + 0),
(2259,	24,	58,	'804873234245646',	CONV('0', 2, 10) + 0),
(2260,	24,	59,	'635058487986857',	CONV('0', 2, 10) + 0),
(2261,	24,	60,	'923318281411635',	CONV('0', 2, 10) + 0),
(2262,	24,	61,	'548138735775357',	CONV('0', 2, 10) + 0),
(2263,	24,	62,	'436827643645854',	CONV('0', 2, 10) + 0),
(2264,	24,	63,	'478788646676345',	CONV('0', 2, 10) + 0),
(2265,	24,	64,	'369158994016680',	CONV('0', 2, 10) + 0),
(2266,	24,	65,	'583667606326233',	CONV('0', 2, 10) + 0),
(2267,	24,	66,	'527894629569660',	CONV('0', 2, 10) + 0),
(2268,	24,	67,	'273866925070530',	CONV('0', 2, 10) + 0),
(2269,	24,	68,	'579661948581312',	CONV('0', 2, 10) + 0),
(2270,	24,	69,	'736356914593250',	CONV('0', 2, 10) + 0),
(2271,	24,	70,	'180673337965595',	CONV('0', 2, 10) + 0),
(2272,	24,	71,	'710942769503773',	CONV('0', 2, 10) + 0),
(2273,	24,	72,	'847344009513399',	CONV('0', 2, 10) + 0),
(2274,	24,	73,	'649061237300775',	CONV('0', 2, 10) + 0),
(2275,	24,	74,	'356313390635684',	CONV('0', 2, 10) + 0),
(2276,	24,	75,	'836507465941402',	CONV('0', 2, 10) + 0),
(2277,	24,	76,	'274989296939210',	CONV('0', 2, 10) + 0),
(2278,	24,	77,	'982558562105430',	CONV('1', 2, 10) + 0),
(2279,	24,	78,	'145342522039115',	CONV('0', 2, 10) + 0),
(2280,	24,	79,	'344629134338720',	CONV('0', 2, 10) + 0),
(2281,	24,	80,	'598404257476154',	CONV('0', 2, 10) + 0),
(2282,	24,	81,	'664711751306792',	CONV('0', 2, 10) + 0),
(2283,	24,	82,	'338186627806425',	CONV('0', 2, 10) + 0),
(2284,	24,	83,	'797280429516720',	CONV('0', 2, 10) + 0),
(2285,	24,	84,	'272098959675259',	CONV('0', 2, 10) + 0),
(2286,	24,	85,	'367066064347783',	CONV('0', 2, 10) + 0),
(2287,	24,	86,	'509123370941526',	CONV('0', 2, 10) + 0),
(2288,	24,	87,	'932179703629531',	CONV('0', 2, 10) + 0),
(2289,	24,	88,	'822757200461655',	CONV('0', 2, 10) + 0),
(2290,	24,	89,	'975726601284867',	CONV('0', 2, 10) + 0),
(2291,	24,	90,	'829248309235761',	CONV('0', 2, 10) + 0),
(2292,	24,	91,	'656368758443707',	CONV('0', 2, 10) + 0),
(2293,	24,	92,	'575809825539117',	CONV('0', 2, 10) + 0),
(2294,	24,	93,	'356826957064683',	CONV('0', 2, 10) + 0),
(2295,	24,	94,	'959760855213122',	CONV('0', 2, 10) + 0),
(2296,	24,	95,	'560346949989984',	CONV('0', 2, 10) + 0),
(2297,	24,	96,	'403080477729208',	CONV('0', 2, 10) + 0),
(2298,	24,	97,	'716078564106014',	CONV('0', 2, 10) + 0),
(2299,	24,	98,	'360934957059352',	CONV('0', 2, 10) + 0),
(2300,	24,	99,	'262976321787015',	CONV('0', 2, 10) + 0);

DROP TABLE IF EXISTS `users`;
CREATE TABLE `users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `email` varchar(255) NOT NULL,
  `name` varchar(255) NOT NULL,
  `passwd` varchar(255) NOT NULL,
  `salt` varchar(255) NOT NULL,
  `is_employee` bit(1) NOT NULL DEFAULT b'0',
  `is_active` bit(1) NOT NULL DEFAULT b'0',
  `pw_recover_id` varchar(255) NOT NULL,
  `pin` int(11) NOT NULL,
  `use_scs` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `users` (`id`, `email`, `name`, `passwd`, `salt`, `is_employee`, `is_active`, `pw_recover_id`, `pin`, `use_scs`) VALUES
(30,	'tattioff42+admin@gmail.com',	'Admin',	'$2a$07$CpPbMbae7XcBbb7cr9SKx..xXUC36gc6TfRkTxZJRsZ.XdEfdVZS.',	'',	CONV('1', 2, 10) + 0,	CONV('1', 2, 10) + 0,	'',	731471,	0),
(34,	'tattioff42+user1@gmail.com',	'First User',	'$2a$07$CPyjo77ECXplSE1VJ8mivODCU/E7AFYyibsoenUW147UsBO0nstAS',	'',	CONV('0', 2, 10) + 0,	CONV('1', 2, 10) + 0,	'',	698145,	0),
(35,	'tattioff42+user2@gmail.com',	'Second User',	'$2a$07$2K7UHey4l1Wuyze4AX8jIuDHhKFphp0umC.3Bc9IjJdYnkYMFQPbO',	'',	CONV('0', 2, 10) + 0,	CONV('1', 2, 10) + 0,	'',	663133,	0);

-- 2014-12-01 11:30:03
